<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <!--<ion-icon name="arrow-back" slot="start" (click)="pop()" style="padding-left:10px"></ion-icon>-->
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Resource Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>

      <img *ngIf = "resourceType == 'manpower'" class="card-img-top rounded-circle img-fluid d-block center {{currResource.status}}" style="margin-top:10px; width: 150px; height: 150px; object-fit: cover;" [src]=image alt="Profile Picture" onerror="this.src='./assets/img/profpic.png'">
      <img *ngIf = "resourceType == 'knowledge'" src="../../../assets/img/knowledge.jpg" />
      <img *ngIf = "resourceType == 'item'" [src]=image  onerror="this.src='./assets/img/item.jpg'" />

        <!-- <ion-label style="float: right; text-decoration: underline ; padding-right: 10px;" (click)="upload($event)"><ion-icon name="camera"></ion-icon>Upload Resource Picture</ion-label> -->
        <!--<ion-button *ngIf="yourAccountBoolean==true" style="float: right;" slot="end" (click)="upload($event)">
          <ion-label><ion-icon name="camera"></ion-icon>Upload Resource Picture</ion-label>
        </ion-button>-->
      <div *ngIf = "resourceType == 'venue'">
        <div *ngFor ="let v of currResource.imgPath">
          <img [src]=v onerror="this.src='./assets/img/venue.jpg'" />
        </div>
      </div>
      <ion-label *ngIf="yourAccountBoolean==true"  style="text-decoration: underline; float:right" (click)="upload($event)"><ion-icon name="camera"></ion-icon>Upload Resource Picture</ion-label>
      <br>
      <br>
      <ion-card-header>
      <ion-card-title>{{currResource.title}}</ion-card-title>
      
      <ion-card-subtitle>{{currResource.createdAt}}</ion-card-subtitle>
      
      <ion-item *ngIf ="resourceType !='knowledge'" lines="none">
        <img class="card-img-top rounded-circle img-fluid d-block" style="width: 50px; height: 50px; object-fit: cover;" [src]=ownerImg  alt="Profile Picture" onerror="this.src='./assets/img/profpic.png'">
        <ion-title>{{resourceOwner.name}}<ion-icon *ngIf="resourceOwner.isVerified == 'true'" name="checkmark-circle" size="big" style="padding-left: 5px;"></ion-icon> </ion-title>
      </ion-item>
      
      <!-- TO add SDG, and reflect status image-wise -->

    </ion-card-header>
    <ion-card-content>
      <ion-item-divider>
        <ion-label style="font-weight:bold;">Status: {{currResource.status}}</ion-label>
        
        <div *ngIf="yourAccountBoolean==true">
          <ion-fab *ngIf="yourAccountBoolean==true" vertical="bottom" horizontal="end" slot="fixed">
            <ion-button>
              <ion-icon name="arrow-back-circle">More</ion-icon>
            </ion-button>
            <ion-fab-list side="start">
              <ion-button color=danger (click)="delete($event)"><ion-icon slot="end" name="trash" ></ion-icon>Delete</ion-button>
              <ion-button (click)="toEditResource($event)"><ion-icon name="create-sharp"></ion-icon>Edit</ion-button>
            </ion-fab-list>
          </ion-fab>
        </div>
      </ion-item-divider>

      <ion-item-divider *ngIf="resourceType == 'knowledge'">
        <ion-label>Owners</ion-label>
        <ion-buttons *ngIf="yourAccountBoolean==true" style="float: right;" slot="end" >
        <ion-label style="font-weight: bold;">Edit<ion-icon slot="end" name="create-sharp" (click)="toEditOwners($event)"></ion-icon></ion-label>
      </ion-buttons>
      </ion-item-divider>
      <ion-item lines="none" *ngIf="resourceType == 'knowledge'">
          <div *ngIf="institutionKnowledgeOwner == true">
          <img class="card-img-top rounded-circle img-fluid d-block" style="width: 50px; height: 50px; object-fit: cover;" [src]=ownerImg  alt="Profile Picture" onerror="this.src='./assets/img/profpic.png'">
          <ion-card-subtitle>{{resourceOwner.name}}<ion-icon name="checkmark-circle" size="big"></ion-icon> </ion-card-subtitle>
        </div>
        <div *ngFor="let o of ownersArray" >
          <img class="card-img-top rounded-circle img-fluid d-block" style="width: 50px; height: 50px; object-fit: cover;" [src]=o.profilePic  alt="Profile Picture" onerror="this.src='./assets/img/profpic.png'">
          <ion-card-subtitle>{{o.name}}<ion-icon *ngIf="o.isVerified == 'true'" name="checkmark-circle" size="big"></ion-icon> </ion-card-subtitle>
        </div>
      </ion-item>

      <ion-item-divider>
        <ion-label>Details</ion-label>
        <ion-buttons *ngIf="yourAccountBoolean==true" style="float: right;" slot="end" >
          <ion-label style="font-weight: bold;">Edit<ion-icon slot="end" name="create-sharp" (click)="toEditResource($event)"></ion-icon></ion-label>
        </ion-buttons>
      </ion-item-divider>
      <ion-item *ngIf="resourceType != 'knowledge'" lines="none">
        <p>Country: {{currResource.country}}</p>
      </ion-item>
      <ion-item *ngIf="resourceType == 'venue'" lines="none">
        <p>Address: {{currResource.address}}</p>
      </ion-item>
      <ion-item lines="none">
        <p>Description: {{currResource.desc}}</p>
      </ion-item>
      <ion-item *ngIf="resourceType == 'knowledge'" lines="none">
        <p>Attachment: {{currResource.title}}</p>
        <ion-button (click)="download($event, currResource)"> Download</ion-button>
      </ion-item>
      
    </ion-card-content>
  </ion-card>

  <div *ngIf="yourAccountBoolean==true">
    <ion-item-divider>
      <ion-label>Requests for this resource</ion-label>
    </ion-item-divider>
    <ion-item lines="none">
      <ion-label>Here is where you accept/reject resource requests </ion-label>
    </ion-item>
  </div>
  <div *ngIf="yourAccountBoolean==true">
    <ion-item-divider>
      <ion-label>Project Suggestions</ion-label>
    </ion-item-divider>
    <ion-item lines="none">
      <ion-label>Here is where you put cards of suggested projects</ion-label>
    </ion-item>
  </div>

</ion-content>
